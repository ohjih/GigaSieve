---
import Layout from '../../layouts/Layout.astro';
import { ui, defaultLang } from '../../i18n/ui';
import { buildLangPath } from '../../i18n/utils';

export async function getStaticPaths() {
    return Object.keys(ui).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
if (lang === defaultLang) {
    return Astro.redirect('/privacy', 301);
}

const copy = {
    en: {
        title: 'Privacy - GigaSieve',
        h1: 'Privacy',
        badgeTitle: 'Your files never leave your device.',
        badgeDesc: 'GigaSieve processes everything in your browser using modern web APIs. There is no upload. No server-side processing. Your data stays on your computer.',
        howTitle: 'How it works',
        howList: [
            'When you select a file, we use the File System Access API to read it directly from your disk.',
            'All parsing, filtering, and analysis happens in Web Workers inside your browser.',
            'Reports and results are generated locally - nothing is sent to any server.',
        ],
        noCollectTitle: 'What we do not collect',
        noCollectList: [
            'Your files or file contents',
            'Your IP address (we do not run a backend)',
            'Personal information of any kind',
        ],
        analyticsTitle: 'Analytics',
        analyticsDesc: 'We may use privacy-respecting analytics (like Plausible or none at all) to understand page visits. This does not include any file data or personal identifiers.',
        thirdTitle: 'Third-party services',
        thirdDesc: 'This site may display ads via Google AdSense. Third-party vendors, including Google, may use cookies to serve ads based on a users prior visits to this or other websites. You can opt out of personalized ads in your Google Ads settings or at www.aboutads.info.',
        questionsTitle: 'Questions?',
        questionsDesc: 'If you have any privacy concerns, please reach out via our contact page.',
        contact: 'contact page',
    },
    ko: {
        title: '개인정보 - GigaSieve',
        h1: '개인정보 처리',
        badgeTitle: '파일이 기기를 떠나지 않습니다.',
        badgeDesc: 'GigaSieve는 브라우저에서 처리합니다. 서버 업로드, 서버 처리 없음. 데이터는 내 컴퓨터에 유지됩니다.',
        howTitle: '작동 원리',
        howList: [
            '파일을 선택하면 File System Access API를 사용하여 직접 읽어옵니다.',
            '파싱/분석/필터링은 브라우저의 Web Worker에서 처리됩니다.',
            '결과와 리포트는 로컬에서 생성되어 서버로 전송되지 않습니다.',
        ],
        noCollectTitle: '수집하지 않는 정보',
        noCollectList: [
            '파일 또는 파일 내용',
            'IP 주소(백엔드 서버 없음)',
            '개인 정보 일체',
        ],
        analyticsTitle: '분석',
        analyticsDesc: '개인 정보를 보호하는 분석 도구(예: Plausible)를 사용할 수 있습니다(또는 사용하지 않음). 파일 데이터나 개인 식별자는 포함되지 않습니다.',
        thirdTitle: '제3자 서비스',
        thirdDesc: '이 사이트는 Google AdSense 광고를 표시할 수 있습니다. Google 등 제3자 공급업체는 이전 방문을 기반으로 광고를 제공하기 위해 쿠키를 사용할 수 있습니다. Google 광고 설정 또는 www.aboutads.info에서 맞춤 광고를 선택 해제할 수 있습니다.',
        questionsTitle: '질문',
        questionsDesc: '개인정보에 관한 문의는 연락처 페이지를 이용해 주세요.',
        contact: '연락처 페이지',
    },
    es: {
        title: 'Privacidad - GigaSieve',
        h1: 'Privacidad',
        badgeTitle: 'Tus archivos nunca salen de tu dispositivo.',
        badgeDesc: 'GigaSieve procesa todo en tu navegador con APIs web modernas. Sin subida ni servidor. Tus datos permanecen en tu equipo.',
        howTitle: 'Cómo funciona',
        howList: [
            'Al seleccionar un archivo, usamos la File System Access API para leerlo desde el disco.',
            'El análisis y filtrado ocurre en Web Workers dentro del navegador.',
            'Los resultados se generan localmente; nada se envía a un servidor.',
        ],
        noCollectTitle: 'Lo que no recopilamos',
        noCollectList: [
            'Tus archivos o su contenido',
            'Tu IP (no usamos backend)',
            'Información personal',
        ],
        analyticsTitle: 'Analítica',
        analyticsDesc: 'Podemos usar analítica respetuosa con la privacidad (o ninguna) para entender visitas. No incluye datos de archivos ni identificadores personales.',
        thirdTitle: 'Servicios de terceros',
        thirdDesc: 'Este sitio puede mostrar anuncios de Google AdSense. AdSense puede usar cookies para anuncios personalizados. Puedes desactivar la personalización en la configuración de Google Ads.',
        questionsTitle: '¿Preguntas?',
        questionsDesc: 'Si tienes dudas de privacidad, contáctanos en la página de contacto.',
        contact: 'página de contacto',
    },
    ja: {
        title: 'プライバシー - GigaSieve',
        h1: 'プライバシー',
        badgeTitle: 'ファイルはデバイスを離れません',
        badgeDesc: 'GigaSieveは最新のWeb APIを使用してブラウザ内ですべてを処理します。アップロードもサーバー処理もありません。データはお使いのコンピュータに残ります。',
        howTitle: '仕組み',
        howList: [
            'ファイルを選択するとFile System Access APIでディスクから直接読み込みます。',
            '解析・フィルタリングはブラウザ内のWeb Workerで実行されます。',
            'レポートと結果はローカルで生成され、サーバーには送信されません。',
        ],
        noCollectTitle: '収集しないもの',
        noCollectList: [
            'ファイルまたはその内容',
            'IPアドレス(バックエンドなし)',
            '個人情報',
        ],
        analyticsTitle: '分析',
        analyticsDesc: 'プライバシーを尊重する分析ツール(または一切なし)を使用してページ訪問を把握する場合があります。ファイルデータや個人識別子は含まれません。',
        thirdTitle: 'サードパーティ',
        thirdDesc: 'このサイトではGoogle AdSense広告が表示される場合があります。Googleなどの第三者ベンダーは、過去の訪問に基づいて広告を配信するためにCookieを使用することがあります。Google広告設定またはwww.aboutads.infoでパーソナライズ広告をオプトアウトできます。',
        questionsTitle: 'ご質問は？',
        questionsDesc: 'プライバシーに関するご質問は、お問い合わせページからご連絡ください。',
        contact: 'お問い合わせ',
    },
    zh: {
        title: '隐私 - GigaSieve',
        h1: '隐私',
        badgeTitle: '文件永不离开您的设备',
        badgeDesc: 'GigaSieve使用现代Web API在浏览器中处理所有内容。无上传，无服务器处理。数据保留在您的计算机上。',
        howTitle: '工作原理',
        howList: [
            '选择文件后，我们使用File System Access API从磁盘直接读取。',
            '解析/过滤/分析在浏览器的Web Worker中进行。',
            '报告和结果在本地生成，不会发送到任何服务器。',
        ],
        noCollectTitle: '我们不收集的信息',
        noCollectList: [
            '您的文件或内容',
            'IP地址(无后端)',
            '任何个人信息',
        ],
        analyticsTitle: '分析',
        analyticsDesc: '我们可能使用尊重隐私的分析工具（或完全不使用）来了解页面访问。不包括文件数据或个人标识符。',
        thirdTitle: '第三方服务',
        thirdDesc: '本网站可能展示Google AdSense广告。Google等第三方供应商可能使用Cookie根据您以前的访问投放广告。您可以在Google广告设置或www.aboutads.info选择退出个性化广告。',
        questionsTitle: '问题',
        questionsDesc: '如有隐私相关问题，请通过联系页面与我们联系。',
        contact: '联系页面',
    },
};

const c = copy[lang as keyof typeof copy] ?? copy.en;
---

<Layout title={c.title} description={c.badgeDesc}>
    <section class="container mx-auto px-4 py-12 max-w-3xl">
        <h1 class="text-4xl font-extrabold text-slate-200 mb-8">{c.h1}</h1>

        <div class="prose prose-invert prose-slate max-w-none">
            <div class="bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-6 mb-8">
                <h2 class="text-xl font-bold text-emerald-400 mt-0 mb-3">{c.badgeTitle}</h2>
                <p class="text-slate-400 mb-0">{c.badgeDesc}</p>
            </div>

            <h2 class="text-xl font-bold text-slate-300">{c.howTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.howList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.noCollectTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.noCollectList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.analyticsTitle}</h2>
            <p class="text-slate-400">{c.analyticsDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.thirdTitle}</h2>
            <p class="text-slate-400">{c.thirdDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.questionsTitle}</h2>
            <p class="text-slate-400">
                {c.questionsDesc} <a href={buildLangPath('/contact', lang)} class="text-emerald-400 hover:underline">{c.contact}</a>.
            </p>
        </div>
    </section>
</Layout>
