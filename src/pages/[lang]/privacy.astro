---
import Layout from '../../layouts/Layout.astro';
import { ui, defaultLang } from '../../i18n/ui';
import { buildLangPath } from '../../i18n/utils';

export async function getStaticPaths() {
    return Object.keys(ui).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
if (lang === defaultLang) {
    return Astro.redirect('/privacy', 301);
}

const copy = {
    en: {
        title: 'Privacy - GigaSieve',
        h1: 'Privacy',
        badgeTitle: 'Your files never leave your device.',
        badgeDesc: 'GigaSieve processes everything in your browser using modern web APIs. There is no upload. No server-side processing. Your data stays on your computer.',
        howTitle: 'How it works',
        howList: [
            'When you select a file, we use the File System Access API to read it directly from your disk.',
            'All parsing, filtering, and analysis happens in Web Workers inside your browser.',
            'Reports and results are generated locally - nothing is sent to any server.',
        ],
        noCollectTitle: 'What we do not collect',
        noCollectList: [
            'Your files or file contents',
            'Your IP address (we do not run a backend)',
            'Personal information of any kind',
        ],
        analyticsTitle: 'Analytics',
        analyticsDesc: 'We may use privacy-respecting analytics (like Plausible or none at all) to understand page visits. This does not include any file data or personal identifiers.',
        thirdTitle: 'Third-party services',
        thirdDesc: 'This site may display ads via Google AdSense. Third-party vendors, including Google, may use cookies to serve ads based on a user's prior visits to this or other websites. You can opt out of personalized ads in your Google Ads settings or at www.aboutads.info.',
        questionsTitle: 'Questions?',
        questionsDesc: 'If you have any privacy concerns, please reach out via our contact page.',
        contact: 'contact page',
    },
    ko: {
        title: '개인정보 - GigaSieve',
        h1: '개인정보 보호',
        badgeTitle: '파일은 절대 기기 밖으로 나가지 않습니다.',
        badgeDesc: 'GigaSieve는 최신 웹 API로 브라우저 안에서만 처리합니다. 업로드 없음, 서버 처리 없음, 데이터는 컴퓨터에만 남습니다.',
        howTitle: '동작 방식',
        howList: [
            '파일을 선택하면 File System Access API로 디스크에서 직접 읽습니다.',
            '파싱/필터링/분석은 브라우저 내부 Web Worker에서 수행됩니다.',
            '리포트와 결과는 로컬에서 생성되며 서버로 전송되지 않습니다.',
        ],
        noCollectTitle: '수집하지 않는 항목',
        noCollectList: [
            '파일 자체 또는 파일 내용',
            'IP 주소(백엔드를 운영하지 않습니다)',
            '개인 식별 정보',
        ],
        analyticsTitle: '분석 도구',
        analyticsDesc: '방문 흐름을 이해하기 위해 개인정보 친화적 분석 도구를 사용할 수 있습니다(또는 사용하지 않을 수 있습니다). 파일 데이터나 개인 식별자는 포함되지 않습니다.',
        thirdTitle: '제3자 서비스',
        thirdDesc: '본 사이트는 Google AdSense 광고를 표시할 수 있습니다. AdSense는 맞춤형 광고를 위해 쿠키를 사용할 수 있습니다. Google 광고 설정에서 맞춤형 광고를 해제할 수 있습니다.',
        questionsTitle: '문의',
        questionsDesc: '개인정보 관련 문의는 문의 페이지로 연락해주세요.',
        contact: '문의 페이지',
    },
    es: {
        title: 'Privacidad - GigaSieve',
        h1: 'Privacidad',
        badgeTitle: 'Tus archivos nunca salen de tu dispositivo.',
        badgeDesc: 'GigaSieve procesa todo en tu navegador con APIs web modernas. Sin subida ni servidor. Tus datos permanecen en tu equipo.',
        howTitle: 'Cómo funciona',
        howList: [
            'Al seleccionar un archivo, usamos la File System Access API para leerlo desde el disco.',
            'El análisis y filtrado ocurre en Web Workers dentro del navegador.',
            'Los resultados se generan localmente; nada se envía a un servidor.',
        ],
        noCollectTitle: 'Lo que no recopilamos',
        noCollectList: [
            'Tus archivos o su contenido',
            'Tu IP (no usamos backend)',
            'Información personal',
        ],
        analyticsTitle: 'Analítica',
        analyticsDesc: 'Podemos usar analítica respetuosa con la privacidad (o ninguna) para entender visitas. No incluye datos de archivos ni identificadores personales.',
        thirdTitle: 'Servicios de terceros',
        thirdDesc: 'Este sitio puede mostrar anuncios de Google AdSense. AdSense puede usar cookies para anuncios personalizados. Puedes desactivar la personalización en la configuración de Google Ads.',
        questionsTitle: '¿Preguntas?',
        questionsDesc: 'Si tienes dudas de privacidad, contáctanos en la página de contacto.',
        contact: 'página de contacto',
    },
    ja: {
        title: 'プライバシー - GigaSieve',
        h1: 'プライバシー',
        badgeTitle: 'ファイルは端末から外へ出ません。',
        badgeDesc: 'GigaSieveは最新のWeb APIを使い、ブラウザ内でのみ処理します。アップロードなし、サーバー処理なし。データは端末に残ります。',
        howTitle: '仕組み',
        howList: [
            'ファイル選択時にFile System Access APIでディスクから直接読み込みます。',
            '解析・フィルタはブラウザ内のWeb Workerで実行されます。',
            '結果はローカルで生成され、サーバーへ送信されません。',
        ],
        noCollectTitle: '収集しない情報',
        noCollectList: [
            'ファイルやその内容',
            'IPアドレス（バックエンドなし）',
            '個人情報',
        ],
        analyticsTitle: '分析',
        analyticsDesc: '訪問状況を把握するためにプライバシー重視の分析を使う場合があります。ファイルデータや個人識別子は含みません。',
        thirdTitle: '第三者サービス',
        thirdDesc: '本サイトはGoogle AdSense広告を表示する場合があります。AdSenseはパーソナライズ広告のためにCookieを使用することがあります。Google広告設定で無効化できます。',
        questionsTitle: 'お問い合わせ',
        questionsDesc: 'プライバシーに関する質問はお問い合わせページからご連絡ください。',
        contact: 'お問い合わせページ',
    },
    zh: {
        title: '隐私 - GigaSieve',
        h1: '隐私',
        badgeTitle: '文件不会离开你的设备。',
        badgeDesc: 'GigaSieve 使用现代 Web API 在浏览器内处理一切。不上传、不走服务器。数据仅保留在设备中。',
        howTitle: '工作原理',
        howList: [
            '选择文件时使用 File System Access API 从磁盘直接读取。',
            '解析与筛选在浏览器内的 Web Worker 中完成。',
            '结果本地生成，不会发送到服务器。',
        ],
        noCollectTitle: '我们不会收集',
        noCollectList: [
            '文件或文件内容',
            'IP 地址（无后端）',
            '任何个人信息',
        ],
        analyticsTitle: '分析',
        analyticsDesc: '我们可能使用注重隐私的分析工具（或完全不使用）来了解访问情况，不包含文件数据或个人标识。',
        thirdTitle: '第三方服务',
        thirdDesc: '本网站可能展示 Google AdSense 广告。AdSense 可能使用 Cookie 提供个性化广告，你可在 Google Ads 设置中关闭。',
        questionsTitle: '疑问？',
        questionsDesc: '如有隐私疑问，请通过联系页面咨询。',
        contact: '联系页面',
    },
};

const c = copy[lang as keyof typeof copy] ?? copy.en;
---

<Layout title={c.title} description={c.badgeDesc}>
    <section class="container mx-auto px-4 py-12 max-w-3xl">
        <h1 class="text-4xl font-extrabold text-slate-200 mb-8">{c.h1}</h1>

        <div class="prose prose-invert prose-slate max-w-none">
            <div class="bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-6 mb-8">
                <h2 class="text-xl font-bold text-emerald-400 mt-0 mb-3">{c.badgeTitle}</h2>
                <p class="text-slate-400 mb-0">{c.badgeDesc}</p>
            </div>

            <h2 class="text-xl font-bold text-slate-300">{c.howTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.howList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.noCollectTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.noCollectList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.analyticsTitle}</h2>
            <p class="text-slate-400">{c.analyticsDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.thirdTitle}</h2>
            <p class="text-slate-400">{c.thirdDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.questionsTitle}</h2>
            <p class="text-slate-400">
                {c.questionsDesc} <a href={buildLangPath('/contact', lang)} class="text-emerald-400 hover:underline">{c.contact}</a>.
            </p>
        </div>
    </section>
</Layout>
