---
import Layout from '../../layouts/Layout.astro';
import { ui, defaultLang } from '../../i18n/ui';
import { buildLangPath } from '../../i18n/utils';

export async function getStaticPaths() {
    return Object.keys(ui).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
if (lang === defaultLang) {
    return Astro.redirect('/privacy', 301);
}

const copy = {
    en: {
        title: 'Privacy - GigaSieve',
        h1: 'Privacy',
        badgeTitle: 'Your files never leave your device.',
        badgeDesc: 'GigaSieve processes everything in your browser using modern web APIs. There is no upload. No server-side processing. Your data stays on your computer.',
        howTitle: 'How it works',
        howList: [
            'When you select a file, we use the File System Access API to read it directly from your disk.',
            'All parsing, filtering, and analysis happens in Web Workers inside your browser.',
            'Reports and results are generated locally - nothing is sent to any server.',
        ],
        noCollectTitle: 'What we do not collect',
        noCollectList: [
            'Your files or file contents',
            'Your IP address (we do not run a backend)',
            'Personal information of any kind',
        ],
        analyticsTitle: 'Analytics',
        analyticsDesc: 'We may use privacy-respecting analytics (like Plausible or none at all) to understand page visits. This does not include any file data or personal identifiers.',
        thirdTitle: 'Third-party services',
        thirdDesc: 'This site may display ads via Google AdSense. Third-party vendors, including Google, may use cookies to serve ads based on a user's prior visits to this or other websites. You can opt out of personalized ads in your Google Ads settings or at www.aboutads.info.',
        questionsTitle: 'Questions?',
        questionsDesc: 'If you have any privacy concerns, please reach out via our contact page.',
        contact: 'contact page',
    },
    ko: {
        title: '???? - GigaSieve',
        h1: '???? ??',
        badgeTitle: '??? ?? ??? ??? ????.',
        badgeDesc: 'GigaSieve? ??????? ?????. ??? ??, ?? ?? ??. ???? ???? ????.',
        howTitle: '?? ??',
        howList: [
            '??? ???? File System Access API? ????? ?? ????.',
            '??/??/??? ????? Web Worker?? ?????.',
            '??? ???? ???? ??? ???? ????.',
        ],
        noCollectTitle: '???? ?? ??',
        noCollectList: [
            '?? ?? ?? ??',
            'IP ??(??? ???)',
            '?? ??? ????',
        ],
        analyticsTitle: '??',
        analyticsDesc: '?? ??? ?? ????? ??? ?? ??? ??? ? ????(?? ???? ?? ? ????). ?? ???? ?? ?? ??? ???? ????.',
        thirdTitle: '?3? ???',
        thirdDesc: '? ???? Google AdSense ??? ??? ? ????. Google ? ?3? ????? ??? ??? ???? ?? ??? ???? ??? ??? ? ????. Google ?? ?? ?? www.aboutads.info?? ?? ??? ??? ? ????.',
        questionsTitle: '??',
        questionsDesc: '???? ?? ??? ?? ???? ??? ???.',
        contact: '?? ???',
    },
    es: {
        title: 'Privacidad - GigaSieve',
        h1: 'Privacidad',
        badgeTitle: 'Tus archivos nunca salen de tu dispositivo.',
        badgeDesc: 'GigaSieve procesa todo en tu navegador con APIs web modernas. Sin subida ni servidor. Tus datos permanecen en tu equipo.',
        howTitle: 'C?mo funciona',
        howList: [
            'Al seleccionar un archivo, usamos la File System Access API para leerlo desde el disco.',
            'El an?lisis y filtrado ocurre en Web Workers dentro del navegador.',
            'Los resultados se generan localmente; nada se env?a a un servidor.',
        ],
        noCollectTitle: 'Lo que no recopilamos',
        noCollectList: [
            'Tus archivos o su contenido',
            'Tu IP (no usamos backend)',
            'Informaci?n personal',
        ],
        analyticsTitle: 'Anal?tica',
        analyticsDesc: 'Podemos usar anal?tica respetuosa con la privacidad (o ninguna) para entender visitas. No incluye datos de archivos ni identificadores personales.',
        thirdTitle: 'Servicios de terceros',
        thirdDesc: 'Este sitio puede mostrar anuncios de Google AdSense. AdSense puede usar cookies para anuncios personalizados. Puedes desactivar la personalizaci?n en la configuraci?n de Google Ads.',
        questionsTitle: '?Preguntas?',
        questionsDesc: 'Si tienes dudas de privacidad, cont?ctanos en la p?gina de contacto.',
        contact: 'p?gina de contacto',
    },
    ja: {
        title: '?????? - GigaSieve',
        h1: '??????',
        badgeTitle: '???????????????',
        badgeDesc: 'GigaSieve ???? Web API ????????????????????????????????????????????????',
        howTitle: '???',
        howList: [
            '???????? File System Access API ????????????????',
            '????????????????? Web Worker ????????',
            '???????????????????????????????',
        ],
        noCollectTitle: '???????',
        noCollectList: [
            '?????????????',
            'IP ??????????????',
            '????',
        ],
        analyticsTitle: '??',
        analyticsDesc: '??????????????????????????????????????????????????????????????????',
        thirdTitle: '???????',
        thirdDesc: '?????? Google AdSense ????????????????Google ?????????????????????????????? Cookie ?????????????Google ??????? www.aboutads.info ???????????????????',
        questionsTitle: '??????',
        questionsDesc: '????????????????????????????????',
        contact: '?????????',
    },
    zh: {
        title: '?? - GigaSieve',
        h1: '??',
        badgeTitle: '???????????',
        badgeDesc: 'GigaSieve ???? Web API ???????????????????????????????',
        howTitle: '????',
        howList: [
            '???????? File System Access API ????????',
            '??/??/???????? Web Worker ????',
            '????????????????????',
        ],
        noCollectTitle: '????????',
        noCollectList: [
            '???????',
            'IP ???????',
            '??????',
        ],
        analyticsTitle: '??',
        analyticsDesc: '????????????????????????????????????????????',
        thirdTitle: '?????',
        thirdDesc: '??????? Google AdSense ????? Google ????????????? Cookie ??????????????????? Google ????? www.aboutads.info ????????',
        questionsTitle: '??',
        questionsDesc: '????????????????????????',
        contact: '??????',
    },
};

const c = copy[lang as keyof typeof copy] ?? copy.en;
---

<Layout title={c.title} description={c.badgeDesc}>
    <section class="container mx-auto px-4 py-12 max-w-3xl">
        <h1 class="text-4xl font-extrabold text-slate-200 mb-8">{c.h1}</h1>

        <div class="prose prose-invert prose-slate max-w-none">
            <div class="bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-6 mb-8">
                <h2 class="text-xl font-bold text-emerald-400 mt-0 mb-3">{c.badgeTitle}</h2>
                <p class="text-slate-400 mb-0">{c.badgeDesc}</p>
            </div>

            <h2 class="text-xl font-bold text-slate-300">{c.howTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.howList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.noCollectTitle}</h2>
            <ul class="text-slate-400 space-y-2">
                {c.noCollectList.map((item) => (
                    <li>{item}</li>
                ))}
            </ul>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.analyticsTitle}</h2>
            <p class="text-slate-400">{c.analyticsDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.thirdTitle}</h2>
            <p class="text-slate-400">{c.thirdDesc}</p>

            <h2 class="text-xl font-bold text-slate-300 mt-8">{c.questionsTitle}</h2>
            <p class="text-slate-400">
                {c.questionsDesc} <a href={buildLangPath('/contact', lang)} class="text-emerald-400 hover:underline">{c.contact}</a>.
            </p>
        </div>
    </section>
</Layout>
