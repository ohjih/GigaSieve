---
import Layout from '../../layouts/Layout.astro';
import { ui, defaultLang } from '../../i18n/ui';

export async function getStaticPaths() {
    return Object.keys(ui).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
if (lang === defaultLang) {
    return Astro.redirect('/contact', 301);
}

const contactEmail = import.meta.env.PUBLIC_CONTACT_EMAIL ?? "contact@example.com";
const mailtoHref = `mailto:${contactEmail}`;

const copy = {
    en: {
        title: 'Contact - GigaSieve',
        h1: 'Contact',
        intro: 'For questions, feedback, or support, email us and we will reply as soon as possible.',
        label: 'Support email',
        responseTitle: 'Response time',
        responseDesc: 'We aim to respond within 2-3 business days. Please include your browser version and a short description of your file type and use case.',
    },
    ko: {
        title: '문의 - GigaSieve',
        h1: '문의하기',
        intro: '질문/피드백/지원이 필요하시면 이메일로 연락해 주세요. 가능한 빠르게 답변 드립니다.',
        label: '지원 이메일',
        responseTitle: '응답 시간',
        responseDesc: '영업일 기준 2~3일 내 답변을 목표로 합니다. 사용 중인 브라우저 버전과 파일 형식/사용 목적을 함께 알려주세요.',
    },
    es: {
        title: 'Contacto - GigaSieve',
        h1: 'Contacto',
        intro: 'Para preguntas, comentarios o soporte, escríbenos y responderemos lo antes posible.',
        label: 'Correo de soporte',
        responseTitle: 'Tiempo de respuesta',
        responseDesc: 'Respondemos en 2-3 días hábiles. Incluye versión del navegador y tipo de archivo/uso.',
    },
    ja: {
        title: 'お問い合わせ - GigaSieve',
        h1: 'お問い合わせ',
        intro: '質問・フィードバック・サポートはメールでご連絡ください。できるだけ早く返信します。',
        label: 'サポートメール',
        responseTitle: '返信目安',
        responseDesc: '営業日2〜3日以内の返信を目標にしています。ブラウザのバージョンとファイル種別/用途を添えてください。',
    },
    zh: {
        title: '联系 - GigaSieve',
        h1: '联系我们',
        intro: '如有问题、反馈或需要支持，请发送邮件，我们会尽快回复。',
        label: '支持邮箱',
        responseTitle: '响应时间',
        responseDesc: '通常在 2–3 个工作日内回复。请提供浏览器版本与文件类型/用途。',
    },
};

const c = copy[lang as keyof typeof copy] ?? copy.en;
---

<Layout title={c.title} description={c.intro}>
    <section class="container mx-auto px-4 py-12 max-w-3xl">
        <h1 class="text-4xl font-extrabold text-slate-200 mb-6">{c.h1}</h1>
        <p class="text-slate-400 mb-6">{c.intro}</p>

        <div class="bg-slate-900 border border-slate-800 rounded-xl p-6 mb-8">
            <p class="text-slate-300 text-sm mb-2">{c.label}</p>
            <a href={mailtoHref} class="text-emerald-400 hover:underline text-lg font-semibold">{contactEmail}</a>
        </div>

        <h2 class="text-xl font-bold text-slate-300 mb-3">{c.responseTitle}</h2>
        <p class="text-slate-400">{c.responseDesc}</p>
    </section>
</Layout>
